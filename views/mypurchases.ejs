<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Purchases</title>
  <link rel="stylesheet" href="/public/css/booking.css">
</head>
<body>

  <!-- Navbar -->
  <nav>
    <div class="navbar">
      <div class="logo">
        <h2 style="margin-left: 16px;">Car Showroom</h2>
      </div>
      <ul>
        <li><a href="/home page/homepage.html">Home</a></li>
        <li><a href="/car listing/carlisting.html">Car Listings</a></li>
        <li><a href="/Dashboard/Dashboard.html">Dashboard</a></li>
        <li><a href="/contactus/Contact.html">Contact</a></li>
        <li><a href="/login/login.html">Sign Up/Login</a></li>
        <li><a href="/mybookings">My Bookings</a></li>
        <li><a href="/mypurchases">My Purchases</a></li>
      </ul>
      <div class="cart-container">
        <a href="/cart/cart.html" class="cart-text-button">
          Cart <span class="count">0</span>
        </a>
      </div>
    </div>
  </nav>

  <!-- Back button -->
  <a href="/Dashboard/Dashboard.html" class="back-button">â¬… Back</a>

  <div class="container">
    <h1>My Purchases</h1>

    <div id="purchase-page">
      <% if (purchases.length === 0) { %>
        <p>You have not purchased any cars.</p>
      <% } else { %>
        <ul id="purchase-list">
          <% purchases.forEach(purchase => { %>
            <li data-car-id="<%= purchase.carId %>" data-purchasedate="<%= purchase.purchaseDate %>">
              Car ID: <%= purchase.carId %> <br>
              Payment Info: <%= JSON.stringify(purchase.paymentInfo) %> <br>
              Date: <%= new Date(purchase.purchaseDate).toLocaleDateString() %>
            </li>
          <% }) %>
        </ul>
      <% } %>
    </div>
  </div>

  <script src="/js/booking.js" defer></script>
</body>
</html>
